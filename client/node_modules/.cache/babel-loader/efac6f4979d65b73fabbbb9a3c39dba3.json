{"ast":null,"code":"import axios from 'axios';\nexport default class Api {\n  constructor(req) {\n    this.api = void 0;\n    this.req = void 0;\n\n    this.login = async () => {\n      const res = await this.api.post('/login', this.req);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      } else {\n        return res;\n      }\n    };\n\n    this.tokenValidator = async token => {\n      const user = await this.api.get('/user', {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n\n      if (user) {\n        const {\n          data\n        } = user;\n        return data;\n      } else {\n        return user;\n      }\n    };\n\n    this.register = async () => {\n      const res = await this.api.post('/signup', this.req);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      } else {\n        return res;\n      }\n    };\n\n    this.myBlogs = async () => {\n      const {\n        uuid,\n        currentPage,\n        take\n      } = this.req;\n      const res = await this.api.get('/myblogs', {\n        params: {\n          uuid,\n          currentPage,\n          take\n        }\n      });\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      }\n    };\n\n    this.editPost = async () => {\n      const res = await this.api.post('/myblogs/update', this.req);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      }\n    };\n\n    this.addPost = async () => {\n      const res = await this.api.post('/add', this.req);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      }\n    };\n\n    this.deletePost = async uuid => {\n      const res = await this.api.put('/delete', uuid);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      }\n    };\n\n    this.index = async () => {\n      // console.log(data)\n      const res = await this.api.get('/index', {\n        params: this.req\n      });\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      }\n    };\n\n    this.addComment = async () => {\n      const res = await this.api.post('/user/comment', this.req);\n\n      if (res) {\n        const {\n          data\n        } = res;\n        return data;\n      } else {\n        return res;\n      }\n    };\n\n    this.req = req;\n    this.api = axios.create({\n      baseURL: process.env.REACT_APP_BASE_URL,\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/linux/Documents/IMIN/AUGUST-16/client/src/api/Api.ts"],"names":["axios","Api","constructor","req","api","login","res","post","data","tokenValidator","token","user","get","headers","register","myBlogs","uuid","currentPage","take","params","editPost","addPost","deletePost","put","index","addComment","create","baseURL","process","env","REACT_APP_BASE_URL"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,GAAN,CAAU;AAKrBC,EAAAA,WAAW,CAACC,GAAD,EAAW;AAAA,SAHtBC,GAGsB;AAAA,SAFtBD,GAEsB;;AAAA,SAUtBE,KAVsB,GAUd,YAA2B;AAC/B,YAAMC,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASG,IAAT,CAAc,QAAd,EAAwB,KAAKJ,GAA7B,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH,OAHD,MAGO;AACH,eAAOF,GAAP;AACH;AACJ,KAlBqB;;AAAA,SAoBtBG,cApBsB,GAoBL,MAAOC,KAAP,IAAsB;AAEnC,YAAMC,IAAS,GAAG,MAAM,KAAKP,GAAL,CAASQ,GAAT,CAAa,OAAb,EAAsB;AAAEC,QAAAA,OAAO,EAAE;AAAE,2BAAkB,UAASH,KAAM;AAAnC;AAAX,OAAtB,CAAxB;;AACA,UAAIC,IAAJ,EAAU;AACN,cAAM;AAAEH,UAAAA;AAAF,YAAWG,IAAjB;AACA,eAAOH,IAAP;AACH,OAHD,MAGO;AACH,eAAOG,IAAP;AACH;AACJ,KA7BqB;;AAAA,SAgCtBG,QAhCsB,GAgCX,YAA2B;AAClC,YAAMR,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASG,IAAT,CAAc,SAAd,EAAyB,KAAKJ,GAA9B,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH,OAHD,MAGO;AACH,eAAOF,GAAP;AACH;AACJ,KAxCqB;;AAAA,SA0CtBS,OA1CsB,GA0CZ,YAA2B;AACjC,YAAM;AAAEC,QAAAA,IAAF;AAAQC,QAAAA,WAAR;AAAqBC,QAAAA;AAArB,UAA8B,KAAKf,GAAzC;AACA,YAAMG,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASQ,GAAT,CAAa,UAAb,EAAyB;AAAEO,QAAAA,MAAM,EAAE;AAAEH,UAAAA,IAAF;AAAQC,UAAAA,WAAR;AAAqBC,UAAAA;AAArB;AAAV,OAAzB,CAAvB;;AACA,UAAIZ,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH;AACJ,KAjDqB;;AAAA,SAmDtBY,QAnDsB,GAmDX,YAA2B;AAClC,YAAMd,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASG,IAAT,CAAc,iBAAd,EAAiC,KAAKJ,GAAtC,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH;AACJ,KAzDqB;;AAAA,SA2DtBa,OA3DsB,GA2DZ,YAA2B;AACjC,YAAMf,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASG,IAAT,CAAc,MAAd,EAAsB,KAAKJ,GAA3B,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH;AACJ,KAjEqB;;AAAA,SAmEtBc,UAnEsB,GAmET,MAAON,IAAP,IAAoC;AAC7C,YAAMV,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASmB,GAAT,CAAa,SAAb,EAAwBP,IAAxB,CAAvB;;AACA,UAAIV,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH;AACJ,KAzEqB;;AAAA,SA2EtBgB,KA3EsB,GA2Ed,YAA2B;AAC/B;AACA,YAAMlB,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASQ,GAAT,CAAa,QAAb,EAAuB;AAAEO,QAAAA,MAAM,EAAE,KAAKhB;AAAf,OAAvB,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH;AACJ,KAlFqB;;AAAA,SAoFtBiB,UApFsB,GAoFT,YAA2B;AACpC,YAAMnB,GAAQ,GAAG,MAAM,KAAKF,GAAL,CAASG,IAAT,CAAc,eAAd,EAA+B,KAAKJ,GAApC,CAAvB;;AACA,UAAIG,GAAJ,EAAS;AACL,cAAM;AAAEE,UAAAA;AAAF,YAAWF,GAAjB;AACA,eAAOE,IAAP;AACH,OAHD,MAGO;AACH,eAAOF,GAAP;AACH;AACJ,KA5FqB;;AAClB,SAAKH,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWJ,KAAK,CAAC0B,MAAN,CAAa;AACpBC,MAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBADD;AAEpBjB,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAFW,KAAb,CAAX;AAMH;;AAboB","sourcesContent":["import axios from 'axios'\n\nexport default class Api {\n\n    api: any\n    req: any\n\n    constructor(req: any) {\n        this.req = req\n        this.api = axios.create({\n            baseURL: process.env.REACT_APP_BASE_URL,\n            headers: {\n                \"Content-type\": \"application/json\"\n            }\n        })\n    }\n\n    login = async (): Promise<void> => {\n        const res: any = await this.api.post('/login', this.req)\n        if (res) {\n            const { data } = res\n            return data\n        } else {\n            return res\n        }\n    }\n\n    tokenValidator = async (token: any) => {\n\n        const user: any = await this.api.get('/user', { headers: { \"Authorization\": `Bearer ${token}` } })\n        if (user) {\n            const { data } = user\n            return data\n        } else {\n            return user\n        }\n    }\n\n\n    register = async (): Promise<void> => {\n        const res: any = await this.api.post('/signup', this.req)\n        if (res) {\n            const { data } = res\n            return data\n        } else {\n            return res\n        }\n    }\n\n    myBlogs = async (): Promise<void> => {\n        const { uuid, currentPage, take } = this.req\n        const res: any = await this.api.get('/myblogs', { params: { uuid, currentPage, take } })\n        if (res) {\n            const { data } = res\n            return data\n        }\n    }\n\n    editPost = async (): Promise<void> => {\n        const res: any = await this.api.post('/myblogs/update', this.req)\n        if (res) {\n            const { data } = res\n            return data\n        }\n    }\n\n    addPost = async (): Promise<void> => {\n        const res: any = await this.api.post('/add', this.req)\n        if (res) {\n            const { data } = res\n            return data\n        }\n    }\n\n    deletePost = async (uuid: any): Promise<void> => {\n        const res: any = await this.api.put('/delete', uuid)\n        if (res) {\n            const { data } = res\n            return data\n        }\n    }\n\n    index = async (): Promise<void> => {\n        // console.log(data)\n        const res: any = await this.api.get('/index', { params: this.req })\n        if (res) {\n            const { data } = res\n            return data\n        }\n    }\n\n    addComment = async (): Promise<void> => {\n        const res: any = await this.api.post('/user/comment', this.req)\n        if (res) {\n            const { data } = res\n            return data\n        } else {\n            return res\n        }\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}